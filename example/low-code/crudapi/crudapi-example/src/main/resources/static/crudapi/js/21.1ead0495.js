(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{fd80:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md q-gutter-sm bg-page"},[a("q-breadcrumbs",[a("q-breadcrumbs-el",{attrs:{label:e.tableCaption,clickable:"",to:e.listUrl}}),a("q-breadcrumbs-el",{attrs:{label:"添加"}})],1),a("q-separator"),a("div",{staticClass:"q-py-md bg-white"},[a("CTableNew",{ref:"rTableNewRef",attrs:{tableName:e.tableName}}),a("div",{staticClass:"row justify-center q-py-md"},[a("q-btn",{attrs:{unelevated:"",color:"primary",label:"保存"},on:{click:e.onSubmit}})],1)],1)],1)},r=[],c=a("7ec2"),s=a.n(c),i=a("c973"),o=a.n(i),l=a("8e44"),u={name:"PageTableNew",data:function(){return{listUrl:"",tableName:"",tableCaption:"",tableData:{}}},created:function(){var e=this;return o()(s()().mark((function t(){return s()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.init();case 2:case"end":return t.stop()}}),t)})))()},mounted:function(){},activated:function(){},deactivated:function(){},updated:function(){},destroyed:function(){},beforeRouteUpdate:function(e,t,a){var n=this;return o()(s()().mark((function t(){return s()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("beforeRouteUpdate"),t.next=3,n.init(e.params.tableName);case 3:a();case 4:case"end":return t.stop()}}),t)})))()},methods:{init:function(e){var t=this;return o()(s()().mark((function a(){return s()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$store.commit("config/updateIsAllowBack",t.$route.meta.isAllowBack),t.tableName=e||t.$route.params.tableName,t.loadMeta();case 3:case"end":return a.stop()}}),a)})))()},loadMeta:function(){var e=this;return o()(s()().mark((function t(){var a;return s()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,l["e"].getByName(e.tableName);case 4:a=t.sent,e.tableCaption=a.caption,e.listUrl="/business/"+e.tableName,console.info(e.listUrl),e.loading=!1,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](1),e.loading=!1,console.error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,11]])})))()},onSubmit:function(){var e=this;return o()(s()().mark((function t(){var a;return s()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$q.loading.show({message:"提交中"}),a=e.$refs.rTableNewRef.getData(),t.prev=2,t.next=5,l["h"].create(e.tableName,a);case 5:e.$q.loading.hide(),e.$q.notify("添加成功"),e.$router.go(-1),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](2),e.$q.loading.hide(),console.info(t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))()}}},d=u,b=a("2877"),p=a("ead5"),f=a("079e"),m=a("eb85"),w=a("9c40"),h=a("eebe"),v=a.n(h),g=Object(b["a"])(d,n,r,!1,null,null,null);t["default"]=g.exports;v()(g,"components",{QBreadcrumbs:p["a"],QBreadcrumbsEl:f["a"],QSeparator:m["a"],QBtn:w["a"]})}}]);